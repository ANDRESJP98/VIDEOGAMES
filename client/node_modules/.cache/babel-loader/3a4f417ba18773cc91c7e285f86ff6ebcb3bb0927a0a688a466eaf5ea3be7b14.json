{"ast":null,"code":"import axios from 'axios';\nexport const GET_VIDEOGAMES = \"GET_VIDEOGAMES\";\nconst getVideogames = () => {\n  return async function (dispatch) {\n    const infoApi = await axios.get(`https://api.rawg.io/api/games?key=${API_KEY}&page_size=100`);\n    const allVideogames = infoApi.data.results;\n    const infoApiId = allVideogames.map(elem => axios.get(`https://api.rawg.io/api/games/${elem.id}?key=${API_KEY}`));\n    const infoApiAll = await axios.all(infoApiId);\n    const infoApiresponses = infoApiAll.map(response => {\n      var _response$data$platfo, _response$data$genres;\n      const {\n        id,\n        name,\n        description,\n        background_image,\n        rating,\n        released\n      } = response.data;\n      const platforms = ((_response$data$platfo = response.data.platforms) === null || _response$data$platfo === void 0 ? void 0 : _response$data$platfo.map(platform => platform.platform.name)).join(\", \");\n      const genres = ((_response$data$genres = response.data.genres) === null || _response$data$genres === void 0 ? void 0 : _response$data$genres.map(genre => genre.name)).join(\", \");\n      return {\n        id,\n        name,\n        background_image,\n        description: description.replaceAll(/<[^>]+>/g, \" \"),\n        genres: genres,\n        platforms: platforms,\n        rating,\n        released\n      };\n    });\n    dispatch({\n      type: GET_VIDEOGAMES,\n      payload: infoApiresponses\n    });\n  };\n};","map":{"version":3,"names":["axios","GET_VIDEOGAMES","getVideogames","dispatch","infoApi","get","API_KEY","allVideogames","data","results","infoApiId","map","elem","id","infoApiAll","all","infoApiresponses","response","_response$data$platfo","_response$data$genres","name","description","background_image","rating","released","platforms","platform","join","genres","genre","replaceAll","type","payload"],"sources":["C:/Users/ACER/Desktop/VIDEOGAMES/client/src/REDUX/actions.js"],"sourcesContent":["import axios from 'axios';\r\nexport const GET_VIDEOGAMES =\"GET_VIDEOGAMES\";\r\n\r\nconst getVideogames=()=>{\r\n    return async function (dispatch){\r\n        const infoApi =await axios.get(`https://api.rawg.io/api/games?key=${API_KEY}&page_size=100`);\r\n    const allVideogames=infoApi.data.results;\r\n    const infoApiId =allVideogames.map(elem => axios.get(`https://api.rawg.io/api/games/${elem.id}?key=${API_KEY}`));\r\n    const infoApiAll =await axios.all(infoApiId);\r\n    const infoApiresponses =infoApiAll.map(response=>{\r\n        const {id, name, description, background_image, rating, released}=response.data;\r\n        const platforms = (response.data.platforms?.map(platform=>platform.platform.name)).join(\", \");\r\n        const genres = (response.data.genres?.map(genre=>genre.name)).join(\", \");\r\n        return {\r\n            id,\r\n            name, \r\n            background_image, \r\n            description:description.replaceAll(/<[^>]+>/g, \" \"),\r\n            genres:genres,\r\n            platforms:platforms,\r\n            rating,\r\n            released\r\n        };\r\n    });\r\n    dispatch({type:GET_VIDEOGAMES, payload:infoApiresponses})  \r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,MAAMC,cAAc,GAAE,gBAAgB;AAE7C,MAAMC,aAAa,GAACA,CAAA,KAAI;EACpB,OAAO,gBAAgBC,QAAQ,EAAC;IAC5B,MAAMC,OAAO,GAAE,MAAMJ,KAAK,CAACK,GAAG,CAAE,qCAAoCC,OAAQ,gBAAe,CAAC;IAChG,MAAMC,aAAa,GAACH,OAAO,CAACI,IAAI,CAACC,OAAO;IACxC,MAAMC,SAAS,GAAEH,aAAa,CAACI,GAAG,CAACC,IAAI,IAAIZ,KAAK,CAACK,GAAG,CAAE,iCAAgCO,IAAI,CAACC,EAAG,QAAOP,OAAQ,EAAC,CAAC,CAAC;IAChH,MAAMQ,UAAU,GAAE,MAAMd,KAAK,CAACe,GAAG,CAACL,SAAS,CAAC;IAC5C,MAAMM,gBAAgB,GAAEF,UAAU,CAACH,GAAG,CAACM,QAAQ,IAAE;MAAA,IAAAC,qBAAA,EAAAC,qBAAA;MAC7C,MAAM;QAACN,EAAE;QAAEO,IAAI;QAAEC,WAAW;QAAEC,gBAAgB;QAAEC,MAAM;QAAEC;MAAQ,CAAC,GAACP,QAAQ,CAACT,IAAI;MAC/E,MAAMiB,SAAS,GAAG,EAAAP,qBAAA,GAACD,QAAQ,CAACT,IAAI,CAACiB,SAAS,cAAAP,qBAAA,uBAAvBA,qBAAA,CAAyBP,GAAG,CAACe,QAAQ,IAAEA,QAAQ,CAACA,QAAQ,CAACN,IAAI,CAAC,EAAEO,IAAI,CAAC,IAAI,CAAC;MAC7F,MAAMC,MAAM,GAAG,EAAAT,qBAAA,GAACF,QAAQ,CAACT,IAAI,CAACoB,MAAM,cAAAT,qBAAA,uBAApBA,qBAAA,CAAsBR,GAAG,CAACkB,KAAK,IAAEA,KAAK,CAACT,IAAI,CAAC,EAAEO,IAAI,CAAC,IAAI,CAAC;MACxE,OAAO;QACHd,EAAE;QACFO,IAAI;QACJE,gBAAgB;QAChBD,WAAW,EAACA,WAAW,CAACS,UAAU,CAAC,UAAU,EAAE,GAAG,CAAC;QACnDF,MAAM,EAACA,MAAM;QACbH,SAAS,EAACA,SAAS;QACnBF,MAAM;QACNC;MACJ,CAAC;IACL,CAAC,CAAC;IACFrB,QAAQ,CAAC;MAAC4B,IAAI,EAAC9B,cAAc;MAAE+B,OAAO,EAAChB;IAAgB,CAAC,CAAC;EACzD,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}